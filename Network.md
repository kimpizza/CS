<details>
  <summary>Network</summary>
  
- [OSI 7 계층](#OSI-7-계층)
- [TCP/UDP](#TCP와-UDP)

  
  
  
  
### OSI 7 계층
- 네트워크에서 통신이 일어나는 과정을 7단계로 나눈 것
- 국제표준화기구(ISO)에서 네트워크 간 호환을 위해 표준 네트워크 모델로 만든 것


OSI 7단계로 정의한 이유는 통신이 일어나는 과정을 단계별로 파악하기 위해서 + 통신 과정 중 특정한 곳에 이상이 생기면 다른 단계의 장비나 소프트웨어 등을 건드리지 않고 통신 장애를 일으킨 그 해당 단계에서 해결할 수 있기 때문임

![](https://velog.velcdn.com/images/posasac/post/68150101-52e4-4400-a5e5-a354472c6e2b/image.png)
![](https://velog.velcdn.com/images/posasac/post/fe9914d3-6098-4477-82e0-35ea10fab23c/image.png)

- OSI 7 계층은 물리, 데이터링크, 네트워크, 전송, 세션, 표현, 응용 계층으로 나뉨

- 전송 시 7계층(응용)에서 1계층(물리)으로까지 각각 층마다 인식할 수 있어야하는 헤더를 붙이고(캡슐화), 수신 시 1계층(물리)부터 7계층(응용)으로 헤더를 다 떼어냄(디캡슐화)
- 출발지에서 데이터가 전송될 때 헤더가 추가되는데 2계층(데이터링크)에서만 오류 제어를 위해 꼬리부분에 추가
- 1계층(물리)에서 1, 0의 전기적 신호가 되어 전송매체(동축 케이블, 광섬유 등)를 통해 전송됨
___
### 1계층 물리 계층(Physical Layer)
- 실제 장치를 연결하기 위한 **전기적** **물리적** 세부 사항을 정의한 계층

- 인터넷 케이블, 라우터, 스위치 등 전기적인 신호가 물리적 장치에 의해 왔다 갔다(통신)하는 계층 
- 이 계층은 단지 데이터를 **전달만** 할 뿐 송,수신하려는 데이터가 뭔지 어떤 에러가 있는지 전혀 신경쓰지 않고 단지 데이터를 전기적인 신호로 변환해 주고받을 수 있게 하는 기능만 할 뿐임(알고리즘, 오류제어 기능 X)
- 여기서 데이터는 0과 1의 비트열, 즉 ON, OFF의 전기적 신호 상태임

- 장비 : 케이블, 리피터, 허브
___

### 2계층 데이터 링크 계층(Data Link Layer)
- 장치 간 신호를 전달하는 물리 계층을 이용해 네트워크 상의 주변 장치들 간의 데이터를 전송하는 역할 

즉, 인접한 두 장치간 신뢰성 있는 정보 전송을 담당(Point-to-Point)함
- 물리 계층을 통해 송, 수신되는 정보의 오류와 흐름을 관리하여 안전한 정보의 전달이 가능하도록 도와주는 역할 

통신에서의 오류를 찾아주고 재전송 하는 기능을 가지고 있음
맥 주소(Mac Address)를 가지고 통신함
- 송, 수신을 주고받는 두 장치간 신뢰성 있는 전송을 보장하기 위한 계층임

주소 할당 : 물리 계층으로부터 받은 신호들이 네트워크 상의 장치에 올바르게 안착할 수 있게함
오류 감지 : 신호가 전달되는 동안 오류가 포함되는지 감지 오류가 있다면해당 데이터 폐기
- 단위 : 프레임(Frame)
- 장비 : 브리지, 스위치
___

### 3계층 네트워크 계층(Network Layer)
- 여러 노드를 거칠 때마다 경로를 찾아주는 역할을 함
- 중계 노드를 통해 전송하는 경우 어떻게 중계할 것인가 규정

라우팅 기능으로 최적의 경로 설정 
(라우팅 기능 : 데이터를 목적지까지 안전하고 빠르게 보냄)

- 다양한 길이의 데이터를 네트워크를 통해 전달하고, 그 과정에서 전송 계층이 요구하는 서비스 품질(Qos)을 제공하기 위한 기능적, 절차적 수단을 제공

경로를 선택하고 주소를 정하고 경로에 따라 패킷을 전달해 주는 것이 주 역할

컴퓨터에게 데이터를 전송할 주소를 가지고 있어서 통신이 가능(IP주소가 네트워크 계층의 헤더에 속함)

데이터를 연결하는 다른 네트워크를 통해 전달함해 인터넷이 가능하게 만드는 계층임

- 단위 : 패킷(Packet)
- 장비 : 라우터, L3 스위치

___
### 4계층 전송 계층(Transport Layer)
- 통신을 활성화하기 위한 계층

보통 TCP 프로토콜을 이용하며, 포트를 여어 응용프로그램들이 전송을 할 수 있게 함
만약, 데이터가 왔다면 4계층에서 해당 데이터를 하나로 통합해 5계층으로 전달

양 끝단의 사용자가 신뢰성 있는 데이터를 주고받게 하여 상위 계층이 데이터 전달의 유효성이나 효율성에는 신경쓰지 않게 해주는 계층
- **시퀀스 넘버기반**의 오류제어 방식 사용
- 종단 간(End-to-End) 통신을 다루는 최하위 계층으로 신뢰성 있고 효율적인 데이터 전송하며, 기능은 오류 검출 및 복구와 흐름제어, 중복 검사 등을 수행

- 데이터 전송을 위해 Port번호 사용(대표 프로토콜 TCP, UDP)
- 단위 : 세그먼트(Segment)
- 장비 : L4 스위치

___
### 5계층 세션 계층(Session Layer)
- 양 끝단의 응용 프로세스가 통신을 관리하는 방법을 제공하는 계층
- 통신 장치 간 상호작용 및 동기화 제공
- 연결 세션에서 데이터 교환과 에러 발생 시 복구 관리

이 계층의 프로토콜은 통신 연결이 손실되는 경우 연결 복구 시도가 가능하고 연결 시도 중 장시간 연결이 되지 않았다면 세션 계층의 프로토콜이 연결을 닫고 다시 연결을 시도함

- 전이중 통신, 반이중 통신 명령 중 하나를 제공하여 교환 메시지 스트림(Stream) 내에서 동기화 지점을 제동함
- 단위 : 데이터(Data) 또는 메세지(Message)

> 전이중 통신(Full Duplex)
: 두 대의 단말기가 데이터를 송, 수신하기 위해 각각 독립된 회선을 사용하는 통신 방식
: 전화망, 고속 데이터 통신 등
>
>반이중 통신(Half Duplex)
: 한쪽이 송신하는 동안 다른 쪽에서 수신하는 통신 방식으로, 전송 방향의 교체가 일어남
: 무전기 등 

___
### 6계층 표현 계층(Presentation Layer)
- 데이터를 어떻게 표현할지 정하는 역할
- 코드 간 번역을 담당
- 인코딩/디코딩, 압축/해제, 암호화/복호화 등의 역할을 수행
- 응용 프로그램이나 네트워크를 위해 데이터를 "표현"하는 것

ex) EDCDIC로 인코딩 된 문서를 ASCII로 바꿔주거나, 해당 데이터가 TEXT인지 그림인지, GIF인지 PNG인지 구분하는 것이 표현 계층의 역할

- 단위 : 데이터(Data)
___
### 7계층 응용 계층(Application Layer)
- 사용자와 가장 밀접한 계층으로 인터페이스 역할
- 응용 프로세스와 직접 관계하여 일반적인 응용 서비스를 수행

응용 계층은 최상위 계층으로 사용자에게 직접적으로 보이는 부분임
웹 상에서 웹 서버 및 웹 브라우저 상호 간 데이터 전송을 위한 프로토콜

- 단위 : 데이터(Data)
- 주요 프로토콜 : TELNET, FTP, SMTP, HTTP 등

___
### TCP와 UDP
  
![](https://velog.velcdn.com/images/posasac/post/3d7aea2b-d32c-47d0-af34-9cf682c191fb/image.png)

TCP와 UDP는 OSI 표준 모델과 TCP/IP 모델의 전송(Transport)계층에서 사용되는 프로토콜
>#### TCP/IP
- 데이터가 의도된 목적지에 닿을 수 있도록 보장하는 통신 규약
- 인터넷으로 디바이스를 연결하는 네트워크 프로토콜의 집합
- 인터넷의 기본 통신 언어
- TCP/IP를 사용하면 한 컴퓨터가 데이터 패킷을 컴파일하고 올바른 위치로 전송하여 인터넷을 통해 다른 컴퓨터와 통신할 수 있음



TCP와 UDP는 포트 번호를 이용해 주소를 지정하는 것과 데이터 오류 검사를 위한 체크섬이 존재한다는 두 가지의 공통점을 가지고 있지만,
**정확성**(TCP)을 추구할지 **신속성**(UDP)을 추구할지 구분하여 나뉨


데이터를 중요하게 생각 해 확실히 주고받고 싶을 때는 `TCP`를 사용
TCP는 통신할 컴퓨터끼리 "보냈다" "받았다"라고 서로 확인 메세지를 보내면서 데이터를 주고받아 통신의 신뢰성을 높임
~~~
웹이나 메일, 파일 공유처럼 데이터를 누락시키고 싶지 않을 때 TCP사용
~~~

반대로 신뢰성보다는 일단 빨리 보내버리고 싶을 때는 `UDP`를 사용
UDP는 데이터를 보내기만 하면 그걸로 끝이니 신뢰성은 없지만 확인 응답과 같은 절차를 생략할 수 있어 통신의 신속성은 높음

~~~
인터넷 전화나 실시간 영화 스트리밍처럼 특히 속도를 필요호하는 서비스들이 UDP사용
~~~

> TCP와 UDP는 "포트 번호"로 컴퓨터 안의 어떤 서비스(애플리케이션)에게 데이터를 전달하면 좋은지를 식별함
포트 번호는 "0~65536"(16비트)까지의 숫자로 되어 있고, 범위에 따라 용도가 정해져 있음
>
>- 0 ~ 1023(잘 알려진 포트 : well-known port) 웹 서버나 메일 서버 등과 같은 일반적인 서버 소프트웨어가 클라이언트의 서비스 요청을 대기할 때 ㅅ용
- 1024 ~ 49151(등록된 포트 : registered port) 제조 업체의 독자적인 서버 소프트웨어가 클라이언트의 서비스 요청을 대기할 때 사용
- 49152 ~ 65535(동적 포트 : dynamic port) 서버가 클라이언트를 식별하기 위해 사용

___
### TCP
- 인터넷 상에서 데이터를 메세지의 형태로 보내기 위해 IP와 함꼐 사용하는 프로토콜

**TCP에서 자꾸 강조되는 내용은 데이터를 정확하고 안정적으로 전달할 수 있다는 것**

>근데 대체 어떻게 통신하길래 신뢰성이 있다는 거임??

![](https://velog.velcdn.com/images/posasac/post/2c1eaf51-7582-476c-8e8c-8f8a0735097c/image.png)

클라이언트가 연결을 요청(SYN 데이터 전송)하고 서버가 연결을 수락하면 통신 선로가 고정되고 모든 데이터는 고정된 통신 선로를 통해서 순차적으로 전달
(데잍터를 정확하고 안정적으로 전달할 수 있음)


위 그림처럼 TCP프로토콜은 신뢰성 있는 데이터 전송을 위해 확인 작업을 하는데 패킷을 성공적으로 전송하면 ACK라는 신호를 날리고 만약 ACK신호가 제 시간에 도착하지 않으면 TimeOut을 발생시켜 손실이 발생한 패킷을 다시 전송함 

> 이렇게 TCP는 데이터를 송신할때마다 확인 응답을 주고받는 절차가 있어서 통신의 신뢰성이 올라감

#### TCP의 단점
- 데이터를 보내기 전 반드시 연결이 형성되어야함
- 1:1 통신만 가능
- 고정된 통신 선로가 최단선(네트워크 길이)이 아닐 경우 상대적으로 UDP보다 데이터 전송 속도가 느림

> 저는 TCP를 정확한데 유도리 없는 타입이라 정의하겠습니다.

#### TCP의 특징
- 데이터 전송 순서를 보장함(데이터 순서 유지를 위해 각 바이트마다 번호 부여)
- 데이터 흐름 제어(수신자 버퍼 오버플로우 방지) 및 혼잡 제어(패킷 수가 과도하게 증가하는 현상 방지)
- 3-way handshaking과정을 통해 연결을 설정하고 4-way handshaking을 통해 연결을 해제

~~~
3-way handshake는 다음 글에서 자세하게 정리할 예정임
~~~
### UDP
- 전송 계층의 "비연결 지향적" 프로토콜
![](https://velog.velcdn.com/images/posasac/post/f6e01937-18a3-47be-9814-bdf18247f5da/image.png)

비연결 지향적 : 데이터를 주고받을 때 연결 절차를 거치지 않고 발신(송신)자가 일방적으로 데이터를 보내는 방식

연결 과정이 없어 TCP보다는 전송이 빠르지만 데이터 전달의 신뢰성은 떨어짐
>UDP는 전송에 할당되는 논리적인 경로가 없음
각각 패킷은 다른 경로로 전송되고 각각 독립적인 관계를 지님
이렇게 데이터를 서로 다른 경로로 독립적으로 처리하는 프로토콜을 UDP라고함

- UDP는 발신자가 데이터 패킷을 순차적으로 보내도 이 패킷들이 서로 다른 통신 선로를 통해 전달 될 수 있음


그래서 먼저 보낸 패킷이 느린 선로를 통해 전송되면 나중에 보낸 패킷보다 늦게 도착할 수 있고 최악의 경우 잘못된 선로로 전송되어 유실될 수도 있음

TCP와는 다르게 중간에 패킷이 유실되거나 변조가 되어도 재전송 X
> UDP는 좀 무책임한 친구라고 정의하겠습니다^__^

좀 더 설명하면, UDP는 연결을 설정하고 해제하는 과정이 없음
서로 다른 경로로 독립적으로 처리함에도 패킷에 순서를 부여하여 재조립하거나 흐름 제어, 혼잡 제어를 하지않아 속도가 빠르고 네트워크 부하가 적다는 장점이 있지만 데이터 전송의 신뢰성이 낮음 (연속성이 중요한 실시간 스트리밍에 좋다)


#### UDP의 단점
- 데이터의 신뢰성이 없음
- 의미있는 서버를 구축하려면 일일이 

#### UDP의 특징
- 패킷 관리가 필요함
- 데이터 재전송과 데이터 순서 유지를 위한 작업이 없음(신뢰성 X)
- 비연결형 서비스로 연결 없이 통신이 가능
___
### TCP와 UDP의 비교
1. 공통점
>포트 번호를 이용하여 주소를 지정
데이터 오류 검사를 위한 체크섬 존재

2. 차이점

||TCP|UDP|
|------|---|---|
|연결방식|연결형|비연결형|
|패킷 교환 방식|가상 회선 방식|데이터그램 방식|
|전송 순서|보장|보장 X|
|수신 여부 확인|확인|확인	X|
|통신 방식|1:1|1:1/1:N/N:N 모두 가능|
|신뢰성|높음|낮음|
|속도|느림|빠름|

___
</details>
